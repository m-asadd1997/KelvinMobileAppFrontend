<!-- App Header -->

<div class="appHeader bg-primary text-light">
    <div class="left">
        <a (click)="goBack()" class="headerButton goBack">
            <ion-icon src="assets/left-arrow.svg"></ion-icon>
        </a>
    </div>
    <div class="pageTitle">Chatrooms</div>

</div>
<!-- * App Header -->


<!-- App Capsule -->
<div id="appCapsule">
    <ul class="listview image-listview" style="margin-top: 10px;">
        <li *ngFor="let chatroom of chatrooms">
            <a class="item" (click)="chatWith(chatroom.chatroomId,chatroom.user.id)">
                <img [src]="
                chatroom.user.profilePicture != null
                  ? 'data:image/jpeg;base64,' + chatroom.user.profilePicture
                  : 'assets/user.png'" alt="image" class="image">
                <div class="in">
                    <div>

                        {{chatroom.user.name}}
                        <footer>{{ chatroom.message.length>50?chatroom.message.substring(0,50)+'...':chatroom.message}}
                        </footer>
                    </div>
                    <span *ngIf="(chatroom.sender!=userId && !chatroom.seen)" style="    position: absolute;
                    right: 85px;" class="badge badge-danger badge-empty"></span>
                    <span class="text-muted">
                        Chat</span>
                </div>
            </a>
        </li>
    </ul>
    <div *ngIf="!chatrooms.length" style="text-align: center;margin-top: 10px;">
        No Chatrooms to show
    </div>
</div>

<!-- *App Capsule -->



<!-- Bottom Menu -->



<app-bottom-menu></app-bottom-menu>